<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.105.0"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title class=pjax-title>smcleod.net</title><meta name=Description content><meta property="og:title" content="smcleod.net"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://beta.smcleod.net/"><meta property="og:image" content="https://beta.smcleod.net/apple-touch-icon.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://beta.smcleod.net/apple-touch-icon.png"><meta name=twitter:title content="smcleod.net"><meta name=twitter:description content><meta name=application-name content="smcleod.net"><meta name=apple-mobile-web-app-title content="smcleod.net"><meta name=theme-color content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=../../logo.svg><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=https://beta.smcleod.net/><link rel=alternate href=../../index.xml type=application/rss+xml title=smcleod.net><link rel=feed href=../../index.xml type=application/rss+xml title=smcleod.net><link rel=stylesheet href=../../lib/normalize/normalize.min.8235a67a2521ef99fb1e455a5891b022af1653b4ede3cfffcac4e473beee88fbcc1a36bbb3cfdd75fd6df46732032f9d96e30adae9c88b769e1fbf7945cd27e0.css integrity="sha512-gjWmeiUh75n7HkVaWJGwIq8WU7Tt48//ysTkc77uiPvMGja7s8/ddf1t9GcyAy+dluMK2unIi3aeH795Rc0n4A=="><link rel=stylesheet href=../../css/style.min.18108d84e024a889c14d785ff688fe13b654fa9bdc1118490c01fd2d42d6d7ae133fc32040282141aa703a4581fc715573ddde9fdb5f6520fbace1c06f846cd0.css integrity="sha512-GBCNhOAkqInBTXhf9oj+E7ZU+pvcERhJDAH9LULW164TP8MgQCghQapwOkWB/HFVc93en9tfZSD7rOHAb4Rs0A=="><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=../../lib/fontawesome-free/all.min.eb8387c9eb0ab6d4fa4d7ad397d15df13b92c009a1eb221b757dd1ecfccabc78a4c5b681847a7f4198ff7cd60abed8300508c9dea138cd1f4a85f09f09b2092a.css integrity="sha512-64OHyesKttT6TXrTl9Fd8TuSwAmh6yIbdX3R7PzKvHikxbaBhHp/QZj/fNYKvtgwBQjJ3qE4zR9KhfCfCbIJKg=="><noscript><link rel=stylesheet href=../../lib/fontawesome-free/all.min.eb8387c9eb0ab6d4fa4d7ad397d15df13b92c009a1eb221b757dd1ecfccabc78a4c5b681847a7f4198ff7cd60abed8300508c9dea138cd1f4a85f09f09b2092a.css integrity="sha512-64OHyesKttT6TXrTl9Fd8TuSwAmh6yIbdX3R7PzKvHikxbaBhHp/QZj/fNYKvtgwBQjJ3qE4zR9KhfCfCbIJKg=="></noscript><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=../../lib/animate/animate.min.738daa4d2c3fc0f677ff92c1cc3f81c397fb6d2176a31a2eeb011bf88fe5a9e68a57914321f32fbd1a7bef6cb88dc24b2ae1943a96c931d83f053979d1f25803.css integrity="sha512-c42qTSw/wPZ3/5LBzD+Bw5f7bSF2oxou6wEb+I/lqeaKV5FDIfMvvRp772y4jcJLKuGUOpbJMdg/BTl50fJYAw=="><noscript><link rel=stylesheet href=../../lib/animate/animate.min.738daa4d2c3fc0f677ff92c1cc3f81c397fb6d2176a31a2eeb011bf88fe5a9e68a57914321f32fbd1a7bef6cb88dc24b2ae1943a96c931d83f053979d1f25803.css integrity="sha512-c42qTSw/wPZ3/5LBzD+Bw5f7bSF2oxou6wEb+I/lqeaKV5FDIfMvvRp772y4jcJLKuGUOpbJMdg/BTl50fJYAw=="></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","url":"https:\/\/beta.smcleod.net\/","inLanguage":"en","author":{"@type":"Person","name":"Sam McLeod"},"image":"https:\/\/beta.smcleod.net\/apple-touch-icon.png","thumbnailUrl":"https:\/\/beta.smcleod.net\/apple-touch-icon.png","license":"Sam McLeod","name":"smcleod.net"}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>function setTheme(e){document.body.setAttribute("theme",e),document.documentElement.style.setProperty("color-scheme",e==="light"?"light":"dark")}function saveTheme(e){window.localStorage&&localStorage.setItem("theme",e)}function getMeta(e){const t=document.getElementsByTagName("meta");for(let n=0;n<t.length;n++)if(t[n].getAttribute("name")===e)return t[n];return""}if(window.localStorage&&localStorage.getItem("theme")){let e=localStorage.getItem("theme");e==="light"||e==="dark"||e==="black"?setTheme(e):setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else"auto"==="light"||"auto"==="dark"||"auto"==="black"?(setTheme("auto"),saveTheme("auto")):(saveTheme("auto"),setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));let metaColors={light:"#f8f8f8",dark:"#252627",black:"#000000"};getMeta("theme-color").content=metaColors[document.body.getAttribute("theme")]</script><div id=back-to-top></div><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=../../ title=smcleod.net><img class="lazyload logo" data-src=../../logo.svg data-srcset="../../logo.svg, ../../logo.svg 1.5x, ../../logo.svg 2x" data-sizes=auto alt=/logo.svg title=/logo.svg>smcleod.net</a></div><div class=menu><div class=menu-inner><a class=menu-item href=../../posts/>📝 Posts </a><a class=menu-item href=../../categories/>🍱 Categories </a><a class=menu-item href=../../series/>📚 Series </a><a class=menu-item href=../../links/ title="Links to software and services I use">🔗 Links </a><a class=menu-item href=../../about/ title="Sam McLeod">🤦🏻‍♂️ About </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=# onclick=return!1 class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=# onclick=return!1 class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=# onclick=return!1 class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=../../ title=smcleod.net><img class="lazyload logo" data-src=../../logo.svg data-srcset="../../logo.svg, ../../logo.svg 1.5x, ../../logo.svg 2x" data-sizes=auto alt=/logo.svg title=/logo.svg>smcleod.net</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=# onclick=return!1 class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=# onclick=return!1 class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=# onclick=return!1 class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=../../posts/ title>📝 Posts</a><a class=menu-item href=../../categories/ title>🍱 Categories</a><a class=menu-item href=../../series/ title>📚 Series</a><a class=menu-item href=../../links/ title="Links to software and services I use">🔗 Links</a><a class=menu-item href=../../about/ title="Sam McLeod">🤦🏻‍♂️ About</a><a href=# onclick=return!1 class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class="page home" posts><div class=home-profile><div class=home-avatar><a href=../../posts/ title="📝 Posts"><img class=lazyload data-src=../../profilephoto/logo.svg data-srcset="../../profilephoto/logo.svg, ../../profilephoto/logo.svg 1.5x, ../../profilephoto/logo.svg 2x" data-sizes=auto alt=/profilephoto/logo.svg title=/profilephoto/logo.svg height=6rem width=6rem></a></div><h2 class=home-subtitle><div id=id-1 class=typeit></div></h2><div class=links><a href=https://github.com/sammcj title=GitHub target=_blank rel="noopener noreferrer me"><i class="fab fa-github-alt fa-fw"></i></a><a href=https://linkedin.com/in/sammcj title=LinkedIn target=_blank rel="noopener noreferrer me"><i class="fab fa-linkedin fa-fw"></i></a><a href=https://twitter.com/s_mcleod title=Twitter target=_blank rel="noopener noreferrer me"><i class="fab fa-twitter fa-fw"></i></a><a href=https://gitlab.com/sammcj title=GitLab target=_blank rel="noopener noreferrer me"><i class="fab fa-gitlab fa-fw"></i></a><a href=https://www.goodreads.com/user/show/5836466-sam title=Goodreads target=_blank rel="noopener noreferrer me"><i class="fab fa-goodreads fa-fw"></i></a><a href=https://www.last.fm/user/sammcj2000 title=Last.fm target=_blank rel="noopener noreferrer me"><i class="fab fa-lastfm fa-fw"></i></a><a href="https://news.ycombinator.com/user?id=smcleod" title="Hacker News" target=_blank rel="noopener noreferrer me"><i class="fab fa-hacker-news fa-fw"></i></a><a href=../../index.xml title=RSS target=_blank rel="noopener noreferrer me"><i class="fas fa-rss fa-fw"></i></a></div></div><article class="single summary" itemscope itemtype=http://schema.org/Article><div class=featured-image-preview><a href=../../2015/10/san-intro/ aria-label="SAN Intro"><img class=lazyload data-src=../../2015/10/san-intro/elliot-sloman-199291.jpg data-srcset="../../2015/10/san-intro/elliot-sloman-199291.jpg, ../../2015/10/san-intro/elliot-sloman-199291.jpg 1.5x, ../../2015/10/san-intro/elliot-sloman-199291.jpg 2x" data-sizes=auto alt=/2015/10/san-intro/elliot-sloman-199291.jpg title=/2015/10/san-intro/elliot-sloman-199291.jpg height=1023 width=1536></a></div><h1 class=single-title itemprop="name headline"><a href=../../2015/10/san-intro/>SAN Intro</a></h1><div class=post-meta><span class=post-author><i class="author fas fa-user-circle fa-fw"></i><a href=https://github.com/sammcj title=Author target=_blank rel="noopener noreferrer author" class=author>Sam McLeod</a>
</span>&nbsp;<span class=post-publish>published on <time datetime=2015-10-07>2015-10-07</time></span>&nbsp;<span class=post-category>included in </span>&nbsp;<span class=post-category>categories <a href=../../categories/tech/><i class="far fa-folder fa-fw"></i>Tech</a>&nbsp;<a href=../../categories/talks/><i class="far fa-folder fa-fw"></i>Talks</a></span></div><div class=content></div><div class=post-footer><a href=../../2015/10/san-intro/>Read more...</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=../../tags/tech/>tech</a>,&nbsp;<a href=../../tags/storage/>storage</a>,&nbsp;<a href=../../tags/clustering/>clustering</a>,&nbsp;<a href=../../tags/talk/>talk</a>,&nbsp;<a href=../../tags/slides/>slides</a>,&nbsp;<a href=../../tags/hardware/>hardware</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><div class=featured-image-preview><a href=../../2015/09/replacing-junos-pulse-with-openconnect/ aria-label="Replacing Junos Pulse with OpenConnect"><img class=lazyload data-src=../../2015/09/replacing-junos-pulse-with-openconnect/backdrop-zbuildings.jpg data-srcset="../../2015/09/replacing-junos-pulse-with-openconnect/backdrop-zbuildings.jpg, ../../2015/09/replacing-junos-pulse-with-openconnect/backdrop-zbuildings.jpg 1.5x, ../../2015/09/replacing-junos-pulse-with-openconnect/backdrop-zbuildings.jpg 2x" data-sizes=auto alt=/2015/09/replacing-junos-pulse-with-openconnect/backdrop-zbuildings.jpg title=/2015/09/replacing-junos-pulse-with-openconnect/backdrop-zbuildings.jpg height=687 width=1029></a></div><h1 class=single-title itemprop="name headline"><a href=../../2015/09/replacing-junos-pulse-with-openconnect/>Replacing Junos Pulse with OpenConnect</a></h1><div class=post-meta><span class=post-author><i class="author fas fa-user-circle fa-fw"></i><a href=https://github.com/sammcj title=Author target=_blank rel="noopener noreferrer author" class=author>Sam McLeod</a>
</span>&nbsp;<span class=post-publish>published on <time datetime=2015-09-22>2015-09-22</time></span>&nbsp;<span class=post-category>included in </span>&nbsp;<span class=post-category>category <a href=../../categories/tech/><i class="far fa-folder fa-fw"></i>Tech</a></span></div><div class=content>In an attempt to avoid using the Juniper Pulse (Now Pulse Secure) VPN client we tried OpenConnect but found that DNS did not work correctly when connected to the VPN. This bug has now been resolved recently but has not made it&rsquo;s way into a new build, in fact there have been no releases for 6 months.
Luckily the OpenConnect was not too difficult to build from source.
Build OpenConnect on OSX Remove old openconnect and install depsbrew remove openconnect brew install libxml2 lzlib openssl libtool libevent Build openconnectwget git.infradead.org/users/dwmw2/openconnect.git/snapshot/0f1ec30d17aa674142552e275bf3fac30d891b39.tar.gz tar zxvf 0f1ec30d17aa674142552e275bf3fac30d891b39.tar.gz cd openconnect-0f1ec30 LIBTOOLIZE=glibtoolize ./autogen.sh PATH=/usr/local/opt/gettext/bin:$PATH ./configure make make install To connectsudo openconnect --juniper -u myusername www.</div><div class=post-footer><a href=../../2015/09/replacing-junos-pulse-with-openconnect/>Read more...</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=../../tags/tech/>tech</a>,&nbsp;<a href=../../tags/networking/>networking</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><div class=featured-image-preview><a href=../../2015/09/ssd-storage-two-months-in-production/ aria-label="SSD Storage - Two Months In Production"><img class=lazyload data-src=../../2015/09/ssd-storage-two-months-in-production/containers-1.jpg data-srcset="../../2015/09/ssd-storage-two-months-in-production/containers-1.jpg, ../../2015/09/ssd-storage-two-months-in-production/containers-1.jpg 1.5x, ../../2015/09/ssd-storage-two-months-in-production/containers-1.jpg 2x" data-sizes=auto alt=/2015/09/ssd-storage-two-months-in-production/containers-1.jpg title=/2015/09/ssd-storage-two-months-in-production/containers-1.jpg height=687 width=1031></a></div><h1 class=single-title itemprop="name headline"><a href=../../2015/09/ssd-storage-two-months-in-production/>SSD Storage - Two Months In Production</a></h1><div class=post-meta><span class=post-author><i class="author fas fa-user-circle fa-fw"></i><a href=https://github.com/sammcj title=Author target=_blank rel="noopener noreferrer author" class=author>Sam McLeod</a>
</span>&nbsp;<span class=post-publish>published on <time datetime=2015-09-13>2015-09-13</time></span>&nbsp;<span class=post-category>included in </span>&nbsp;<span class=post-category>category <a href=../../categories/tech/><i class="far fa-folder fa-fw"></i>Tech</a></span></div><div class=content>Over the last two months I&rsquo;ve been running selected IO intensive servers off the the SSD storage cluster, these hosts include (among others) our:
Primary Puppetmaster Gitlab server Redmine app and database servers Nagios servers Several Docker database host servers ReliabilityWe haven&rsquo;t had any software or hardware failures since commissioning the storage units.
During this time we have had 3 disk failures on our HP StoreVirtual SANs that have required us to call the supporting vendor and replace failed disks.
We have performed a great deal of live cluster failovers without any noticeable interruption to services and with no unexpected results.</div><div class=post-footer><a href=../../2015/09/ssd-storage-two-months-in-production/>Read more...</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=../../tags/tech/>tech</a>,&nbsp;<a href=../../tags/storage/>storage</a>,&nbsp;<a href=../../tags/hardware/>hardware</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><div class=featured-image-preview><a href=../../2015/09/os-x-software-update-channels-for-betas/ aria-label="OS X Software Update Channels For Betas"><img class=lazyload data-src=../../2015/09/os-x-software-update-channels-for-betas/rishi-deep-424424.jpg data-srcset="../../2015/09/os-x-software-update-channels-for-betas/rishi-deep-424424.jpg, ../../2015/09/os-x-software-update-channels-for-betas/rishi-deep-424424.jpg 1.5x, ../../2015/09/os-x-software-update-channels-for-betas/rishi-deep-424424.jpg 2x" data-sizes=auto alt=/2015/09/os-x-software-update-channels-for-betas/rishi-deep-424424.jpg title=/2015/09/os-x-software-update-channels-for-betas/rishi-deep-424424.jpg height=687 width=1020></a></div><h1 class=single-title itemprop="name headline"><a href=../../2015/09/os-x-software-update-channels-for-betas/>OS X Software Update Channels For Betas</a></h1><div class=post-meta><span class=post-author><i class="author fas fa-user-circle fa-fw"></i><a href=https://github.com/sammcj title=Author target=_blank rel="noopener noreferrer author" class=author>Sam McLeod</a>
</span>&nbsp;<span class=post-publish>published on <time datetime=2015-09-01>2015-09-01</time></span>&nbsp;<span class=post-category>included in </span>&nbsp;<span class=post-category>category <a href=../../categories/tech/><i class="far fa-folder fa-fw"></i>Tech</a></span></div><div class=content>Set update channel to receive developer beta updatesudo softwareupdate --set-catalog https://swscan.apple.com/content/catalogs/others/index-10.11seed-10.11-10.10-10.9-mountainlion-lion-snowleopard-leopard.merged-1.sucatalog.gz Set update channel to receive public beta updatesudo softwareupdate --set-catalog https://swscan.apple.com/content/catalogs/others/index-10.11beta-10.11-10.10-10.9-mountainlion-lion-snowleopard-leopard.merged-1.sucatalog.gz List available updatessudo softwareupdate --list Set update channel to receive default, stable updatessudo softwareupdate --clear-catalog Show current settingsdefaults read /Library/Preferences/com.apple.SoftwareUpdate.plist Write setting manuallydefaults write /Library/Preferences/com.apple.SoftwareUpdate CatalogURL https://swscan.apple.com/content/catalogs/others/index-10.11beta-10.11-10.10-10.9-mountainlion-lion-snowleopard-leopard.merged-1.sucatalog.gz</div><div class=post-footer><a href=../../2015/09/os-x-software-update-channels-for-betas/>Read more...</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=../../tags/tech/>tech</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><div class=featured-image-preview><a href=../../2015/07/iscsi-benchmarking/ aria-label="iSCSI Benchmarking"><img class=lazyload data-src=../../2015/07/iscsi-benchmarking/datacentre-1.jpg data-srcset="../../2015/07/iscsi-benchmarking/datacentre-1.jpg, ../../2015/07/iscsi-benchmarking/datacentre-1.jpg 1.5x, ../../2015/07/iscsi-benchmarking/datacentre-1.jpg 2x" data-sizes=auto alt=/2015/07/iscsi-benchmarking/datacentre-1.jpg title=/2015/07/iscsi-benchmarking/datacentre-1.jpg height=683 width=1952></a></div><h1 class=single-title itemprop="name headline"><a href=../../2015/07/iscsi-benchmarking/>iSCSI Benchmarking</a></h1><div class=post-meta><span class=post-author><i class="author fas fa-user-circle fa-fw"></i><a href=https://github.com/sammcj title=Author target=_blank rel="noopener noreferrer author" class=author>Sam McLeod</a>
</span>&nbsp;<span class=post-publish>published on <time datetime=2015-07-24>2015-07-24</time></span>&nbsp;<span class=post-category>included in </span>&nbsp;<span class=post-category>category <a href=../../categories/tech/><i class="far fa-folder fa-fw"></i>Tech</a></span></div><div class=content>The following are benchmarks from our testings of our iSCSI SSD storage.
67,300 read IOP/s on a VM on iSCSI (Disk -> LVM -> MDADM -> DRBD -> iSCSI target -> Network -> XenServer iSCSI Client -> VM) Per VM and scales to 1,000,000 IOP/s total root@dev-samm:/mnt/pmt1 128 # fio --randrepeat=1 --ioengine=libaio --direct=1 --gtod_reduce=1 --name=test --filename=test --bs=4k --iodepth=128 --size=2G --readwrite=read test: (g=0): rw=read, bs=4K-4K/4K-4K, ioengine=libaio, iodepth=128 2.0.8 Starting 1 process bs: 1 (f=1): [R] [55.6% done] [262.1M/0K /s] [67.3K/0 iops] [eta 00m:04s] 38,500 random 4k write IOP/s on a VM on iSCSI (Disk -> LVM -> MDADM -> DRBD -> iSCSI target -> Network -> XenServer iSCSI Client -> VM) Per VM and scales to 700,000 IOP/s total root@dev-samm:/mnt/pmt1 # fio --randrepeat=1 --ioengine=libaio --direct=1 --gtod_reduce=1 --name=test --filename=test --bs=4k --iodepth=128 --size=2G --readwrite=randwrite test: (g=0): rw=randwrite, bs=4K-4K/4K-4K, ioengine=libaio, iodepth=128 2.</div><div class=post-footer><a href=../../2015/07/iscsi-benchmarking/>Read more...</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=../../tags/tech/>tech</a>,&nbsp;<a href=../../tags/storage/>storage</a>,&nbsp;<a href=../../tags/hardware/>hardware</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><div class=featured-image-preview><a href=../../2015/07/delayed-serial-stonith/ aria-label="Delayed Serial STONITH"><img class=lazyload data-src=../../2015/07/delayed-serial-stonith/padlock.jpg data-srcset="../../2015/07/delayed-serial-stonith/padlock.jpg, ../../2015/07/delayed-serial-stonith/padlock.jpg 1.5x, ../../2015/07/delayed-serial-stonith/padlock.jpg 2x" data-sizes=auto alt=/2015/07/delayed-serial-stonith/padlock.jpg title=/2015/07/delayed-serial-stonith/padlock.jpg height=687 width=1031></a></div><h1 class=single-title itemprop="name headline"><a href=../../2015/07/delayed-serial-stonith/>Delayed Serial STONITH</a></h1><div class=post-meta><span class=post-author><i class="author fas fa-user-circle fa-fw"></i><a href=https://github.com/sammcj title=Author target=_blank rel="noopener noreferrer author" class=author>Sam McLeod</a>
</span>&nbsp;<span class=post-publish>published on <time datetime=2015-07-21>2015-07-21</time></span>&nbsp;<span class=post-category>included in </span>&nbsp;<span class=post-category>category <a href=../../categories/tech/><i class="far fa-folder fa-fw"></i>Tech</a></span></div><div class=content>A modified version of John Sutton&rsquo;s rcd_serial cable coupled with our Supermicro reset switch hijacker:
This works with the rcd_serial fence agent plugin.
Reasons rcd_serial makes for a very good STONITH mechanism:
It has no dependency on power state. It has no dependency on network state. It has no dependency on node operational state. It has no dependency on external hardware. It costs less that $5 + time to build. It is incredibly simple and reliable. Essentially the most common STONITH agent type in use is probably those that control UPS / PDUs, while this sounds like a good idea in theory there are a number of issues with relying on a UPS / PDU:</div><div class=post-footer><a href=../../2015/07/delayed-serial-stonith/>Read more...</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=../../tags/tech/>tech</a>,&nbsp;<a href=../../tags/storage/>storage</a>,&nbsp;<a href=../../tags/hardware/>hardware</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><div class=featured-image-preview><a href=../../2015/07/video-cluster-failover-performance-demo/ aria-label="Video - Cluster Failover Performance Demo"><img class=lazyload data-src=../../2015/07/video-cluster-failover-performance-demo/tim-napier-181584.jpg data-srcset="../../2015/07/video-cluster-failover-performance-demo/tim-napier-181584.jpg, ../../2015/07/video-cluster-failover-performance-demo/tim-napier-181584.jpg 1.5x, ../../2015/07/video-cluster-failover-performance-demo/tim-napier-181584.jpg 2x" data-sizes=auto alt=/2015/07/video-cluster-failover-performance-demo/tim-napier-181584.jpg title=/2015/07/video-cluster-failover-performance-demo/tim-napier-181584.jpg height=687 width=1032></a></div><h1 class=single-title itemprop="name headline"><a href=../../2015/07/video-cluster-failover-performance-demo/>Video - Cluster Failover Performance Demo</a></h1><div class=post-meta><span class=post-author><i class="author fas fa-user-circle fa-fw"></i><a href=https://github.com/sammcj title=Author target=_blank rel="noopener noreferrer author" class=author>Sam McLeod</a>
</span>&nbsp;<span class=post-publish>published on <time datetime=2015-07-12>2015-07-12</time></span>&nbsp;<span class=post-category>included in </span>&nbsp;<span class=post-category>categories <a href=../../categories/tech/><i class="far fa-folder fa-fw"></i>Tech</a>&nbsp;<a href=../../categories/talks/><i class="far fa-folder fa-fw"></i>Talks</a></span></div><div class=content></div><div class=post-footer><a href=../../2015/07/video-cluster-failover-performance-demo/>Read more...</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=../../tags/tech/>tech</a>,&nbsp;<a href=../../tags/storage/>storage</a>,&nbsp;<a href=../../tags/hardware/>hardware</a>,&nbsp;<a href=../../tags/slides/>slides</a>,&nbsp;<a href=../../tags/talks/>talks</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><div class=featured-image-preview><a href=../../2015/07/centos-7-and-ha/ aria-label="CentOS 7 and HA"><img class=lazyload data-src=../../2015/07/centos-7-and-ha/billy-huynh-278252.jpg data-srcset="../../2015/07/centos-7-and-ha/billy-huynh-278252.jpg, ../../2015/07/centos-7-and-ha/billy-huynh-278252.jpg 1.5x, ../../2015/07/centos-7-and-ha/billy-huynh-278252.jpg 2x" data-sizes=auto alt=/2015/07/centos-7-and-ha/billy-huynh-278252.jpg title=/2015/07/centos-7-and-ha/billy-huynh-278252.jpg height=687 width=1031></a></div><h1 class=single-title itemprop="name headline"><a href=../../2015/07/centos-7-and-ha/>CentOS 7 and HA</a></h1><div class=post-meta><span class=post-author><i class="author fas fa-user-circle fa-fw"></i><a href=https://github.com/sammcj title=Author target=_blank rel="noopener noreferrer author" class=author>Sam McLeod</a>
</span>&nbsp;<span class=post-publish>published on <time datetime=2015-07-07>2015-07-07</time></span>&nbsp;<span class=post-category>included in </span>&nbsp;<span class=post-category>category <a href=../../categories/tech/><i class="far fa-folder fa-fw"></i>Tech</a></span></div><div class=content>First some background&mldr;
One of the many lessons I&rsquo;ve learnt from my Linux HA / Storage clustering project is that the Debian HA ecosystem is essentially broken, We reached the point where packages were too old, too buggy or in Debian 8&rsquo;s case - outright missing.
In the past I was very disappointed with RHEL/CentOS 5 / 6 and (until now) have been quite satisfied with Debian as a stable server distribution with historicity more modern packages and kernels.
I feel that CentOS / RHEL 7 has changed the game.*
(When combined with ElRepo or EPEL that provide wide array of modern packages)</div><div class=post-footer><a href=../../2015/07/centos-7-and-ha/>Read more...</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=../../tags/tech/>tech</a>,&nbsp;<a href=../../tags/storage/>storage</a>,&nbsp;<a href=../../tags/clustering/>clustering</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><div class=featured-image-preview><a href=../../2015/06/ssd-storage-cluster-update-and-diagram/ aria-label="SSD Storage Cluster - Update and Diagram"><img class=lazyload data-src=../../2015/06/ssd-storage-cluster-update-and-diagram/backdrop-feetsky.jpg data-srcset="../../2015/06/ssd-storage-cluster-update-and-diagram/backdrop-feetsky.jpg, ../../2015/06/ssd-storage-cluster-update-and-diagram/backdrop-feetsky.jpg 1.5x, ../../2015/06/ssd-storage-cluster-update-and-diagram/backdrop-feetsky.jpg 2x" data-sizes=auto alt=/2015/06/ssd-storage-cluster-update-and-diagram/backdrop-feetsky.jpg title=/2015/06/ssd-storage-cluster-update-and-diagram/backdrop-feetsky.jpg height=687 width=1031></a></div><h1 class=single-title itemprop="name headline"><a href=../../2015/06/ssd-storage-cluster-update-and-diagram/>SSD Storage Cluster - Update and Diagram</a></h1><div class=post-meta><span class=post-author><i class="author fas fa-user-circle fa-fw"></i><a href=https://github.com/sammcj title=Author target=_blank rel="noopener noreferrer author" class=author>Sam McLeod</a>
</span>&nbsp;<span class=post-publish>published on <time datetime=2015-06-17>2015-06-17</time></span>&nbsp;<span class=post-category>included in </span>&nbsp;<span class=post-category>category <a href=../../categories/tech/><i class="far fa-folder fa-fw"></i>Tech</a></span>&nbsp;<span class=post-category>and</span>&nbsp;<span class=post-series>series <a href=../../series/ssd-san/><i class="far fa-list-alt fa-fw"></i>ssd-san</a></span></div><div class=content>Due to several recent events beyond my control I&rsquo;m a bit behind on the project - hence the lack of updates which I apologise for.
The goods news is that I&rsquo;m back working to finish off the clusters and I&rsquo;m happy to report that all is going to plan.
Here is the final digram of the two-node cluster design:
Plain text version available here
This was generated from the LCMC tool (beware - it&rsquo;s java!).
More on this soon&mldr;</div><div class=post-footer><a href=../../2015/06/ssd-storage-cluster-update-and-diagram/>Read more...</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=../../tags/tech/>tech</a>,&nbsp;<a href=../../tags/storage/>storage</a>,&nbsp;<a href=../../tags/hardware/>hardware</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><div class=featured-image-preview><a href=../../2015/05/video-storage-cluster-failover-demo/ aria-label="Video - Storage Cluster Failover Demo"><img class=lazyload data-src=../../2015/05/video-storage-cluster-failover-demo/elliot-sloman-199291.jpg data-srcset="../../2015/05/video-storage-cluster-failover-demo/elliot-sloman-199291.jpg, ../../2015/05/video-storage-cluster-failover-demo/elliot-sloman-199291.jpg 1.5x, ../../2015/05/video-storage-cluster-failover-demo/elliot-sloman-199291.jpg 2x" data-sizes=auto alt=/2015/05/video-storage-cluster-failover-demo/elliot-sloman-199291.jpg title=/2015/05/video-storage-cluster-failover-demo/elliot-sloman-199291.jpg height=1023 width=1536></a></div><h1 class=single-title itemprop="name headline"><a href=../../2015/05/video-storage-cluster-failover-demo/>Video - Storage Cluster Failover Demo</a></h1><div class=post-meta><span class=post-author><i class="author fas fa-user-circle fa-fw"></i><a href=https://github.com/sammcj title=Author target=_blank rel="noopener noreferrer author" class=author>Sam McLeod</a>
</span>&nbsp;<span class=post-publish>published on <time datetime=2015-05-14>2015-05-14</time></span>&nbsp;<span class=post-category>included in </span>&nbsp;<span class=post-category>categories <a href=../../categories/tech/><i class="far fa-folder fa-fw"></i>Tech</a>&nbsp;<a href=../../categories/talks/><i class="far fa-folder fa-fw"></i>Talks</a></span>&nbsp;<span class=post-category>and</span>&nbsp;<span class=post-series>series <a href=../../series/ssd-san/><i class="far fa-list-alt fa-fw"></i>ssd-san</a></span></div><div class=content>A brief demonstration of the failover and recovery process on the storage clusters I&rsquo;ve been building.</div><div class=post-footer><a href=../../2015/05/video-storage-cluster-failover-demo/>Read more...</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=../../tags/tech/>tech</a>,&nbsp;<a href=../../tags/storage/>storage</a>,&nbsp;<a href=../../tags/hardware/>hardware</a>,&nbsp;<a href=../../tags/slides/>slides</a>,&nbsp;<a href=../../tags/talks/>talks</a></div></div></article><ul class=pagination><li class=page-item><span class=page-link><a href=../../>1</a></span></li><li class=page-item><span class=page-link aria-hidden=true>&mldr;</span></li><li class=page-item><span class=page-link><a href=../../page/3/>3</a></span></li><li class=page-item><span class=page-link><a href=../../page/4/>4</a></span></li><li class="page-item active"><span class=page-link><a href=../../page/5/>5</a></span></li><li class=page-item><span class=page-link><a href=../../page/6/>6</a></span></li><li class=page-item><span class=page-link><a href=../../page/7/>7</a></span></li></ul></div></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2010 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://github.com/sammcj target=_blank rel="noopener noreferrer">Sam McLeod</a></span></div><div class=footer-line></div><div class=footer-line></div></div></footer></div><div id=fixed-buttons><a href=#back-to-top id=back-to-top-button class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><div class=assets><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=../../atkinson-hyperlegible/atkinson-hyperlegible.eab28ad9966784d2ce9271970fa9cde34de4a323c0e4cd22fb5ffbf5261b049f52e236f1c06684c0ba73f72454f180c6e9e4667bee6cec7e9d5ac2d9dcb7b24e.css integrity="sha512-6rKK2ZZnhNLOknGXD6nN403koyPA5M0i+1/79SYbBJ9S4jbxwGaEwLpz9yRU8YDG6eRme+5s7H6dWsLZ3LeyTg=="><noscript><link rel=stylesheet href=../../atkinson-hyperlegible/atkinson-hyperlegible.eab28ad9966784d2ce9271970fa9cde34de4a323c0e4cd22fb5ffbf5261b049f52e236f1c06684c0ba73f72454f180c6e9e4667bee6cec7e9d5ac2d9dcb7b24e.css integrity="sha512-6rKK2ZZnhNLOknGXD6nN403koyPA5M0i+1/79SYbBJ9S4jbxwGaEwLpz9yRU8YDG6eRme+5s7H6dWsLZ3LeyTg=="></noscript><script type=text/javascript src=../../lib/autocomplete/autocomplete.min.0dcc8ee301dccbd9fb18115a1176e1293ca233b99aee5f5d12f218463c34eccea29f842827fc1ce330cf26e1e21b1382725ad3d0703cbde9f7e28552bcd92c07.js integrity="sha512-DcyO4wHcy9n7GBFaEXbhKTyiM7ma7l9dEvIYRjw07M6in4QoJ/wc4zDPJuHiGxOCclrT0HA8ven34oVSvNksBw=="></script><script type=text/javascript src=../../lib/fuse/fuse.min.3dd1499ec34f39e57a4363bb184754a5023e0f9c47115d67dbec47058d78fb562f0c929c84d44a0a1ca7f84ed73b907e40fa84995338a66677721853139fb70f.js integrity="sha512-PdFJnsNPOeV6Q2O7GEdUpQI+D5xHEV1n2+xHBY14+1YvDJKchNRKChyn+E7XO5B+QPqEmVM4pmZ3chhTE5+3Dw=="></script><script type=text/javascript src=../../lib/lazysizes/lazysizes.min.ab9f37a692ab09173b3793b49f69f352227eb2e52fec4b752467a5b386d739a30541c6a63e4f478dd5249d9bae16304db3bb6c32e69d81ee64f51cdd98efb519.js integrity="sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ=="></script><script type=text/javascript src=../../lib/topbar/topbar.min.db5613fde0d014e29123106077225a764bdb4bdf791c2d252c1db5c09f19ea0bd181d29e10a1c03fddc6b0666d83ed17645ee84c31fb405fc7c0b8b38fd95eb0.js integrity="sha512-21YT/eDQFOKRIxBgdyJadkvbS995HC0lLB21wJ8Z6gvRgdKeEKHAP93GsGZtg+0XZF7oTDH7QF/HwLizj9lesA=="></script><script type=text/javascript src=../../lib/pjax/pjax.min.8f92ba6fd6079d25aa09e1be3b1e3568438eba0fa53a093eb559684245a9c227d65e346122eb048ee9439ac9af9ce653c1ed88f20305c6121e946035c42705b0.js integrity="sha512-j5K6b9YHnSWqCeG+Ox41aEOOug+lOgk+tVloQkWpwifWXjRhIusEjulDmsmvnOZTwe2I8gMFxhIelGA1xCcFsA=="></script><script type=text/javascript src=../../js/theme.min.js defer></script></div><div class=pjax-assets><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:100},data:{"id-1":"The personal blog of Sam McLeod"},search:{distance:100,findAllMatches:!0,fuseIndexURL:"/index.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!1,isCaseSensitive:!1,location:0,maxResultLength:10,minMatchCharLength:3,noResultsFound:"No results found",snippetLength:30,threshold:.3,type:"fuse",useExtendedSearch:!0},sharerjs:!0,typeit:{cursorChar:"_",cursorSpeed:1e3,data:{"id-1":["id-1"]},duration:-1,speed:50}}</script><script type=text/javascript src=../../lib/clipboard/clipboard.min.b08a94127467df50609e03e61edd897a7ce57830ec5f060efa2caf438e8cc3a44bfae7405198f69ffbbf3c663cd0dc51c729ceed1f71206c792c4cf0e0835625.js integrity="sha512-sIqUEnRn31BgngPmHt2JenzleDDsXwYO+iyvQ46Mw6RL+udAUZj2n/u/PGY80NxRxynO7R9xIGx5LEzw4INWJQ=="></script><script type=text/javascript src=../../lib/sharer/sharer.min.cab91d53e60c836a90e16a5091059006925296eeed2c665fc744b7e7755ec3ab5c4e58e3c83899af70d8f690e004c2ca62062e11b0c7efdced87f80d074cfa3e.js integrity="sha512-yrkdU+YMg2qQ4WpQkQWQBpJSlu7tLGZfx0S353Vew6tcTljjyDiZr3DY9pDgBMLKYgYuEbDH79zth/gNB0z6Pg=="></script><script type=text/javascript src=../../lib/typeit/typeit.min.f27efa857ac46448d67802135c65454dfc450176698f8fb06912d192dada782d98abfd8fbaf9ad33a15fb7971ed227e86d2082b88c2319260c237f147c9a624b.js integrity="sha512-8n76hXrEZEjWeAITXGVFTfxFAXZpj4+waRLRktraeC2Yq/2PuvmtM6Fft5ce0ifobSCCuIwjGSYMI38UfJpiSw=="></script></div></body></html>