<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Recent Posts &#8211; smcleod.net</title>
<meta name="description" content="Brain Dump of Sam McLeod">
<meta name="keywords" content="sam mcleod, devops, infracoders">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="/images/melbourne.jpg">

<meta name="twitter:title" content="Recent Posts">
<meta name="twitter:description" content="Brain Dump of Sam McLeod">
<meta name="twitter:creator" content="@s_mcleod">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Recent Posts">
<meta property="og:description" content="Brain Dump of Sam McLeod">
<meta property="og:url" content="/index.html">
<meta property="og:site_name" content="smcleod.net">





<link rel="canonical" href="/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="smcleod.net Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">




<style type="text/css">body {background-image:url(/images/black_lozenge.png);}</style>


</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="/">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="/images/avatar.jpg" alt="Sam McLeod photo" class="author-photo">
					<h4>Sam McLeod</h4>
					<p>Ops Lead @Infoxchange</p>
				</li>
				<li><a href="/about/"><span class="btn btn-inverse">Learn More</span></a></li>
				<li>
					<a href="mailto:smj(at)fastmail(dot)com"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="http://twitter.com/s_mcleod"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				
				
				<li>
					<a href="http://linkedin.com/in/au.linkedin.com/in/sammcj/en"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="http://github.com/sammcj"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="/posts/">All Posts</a></li>
				<li><a href="/tags/">All Tags</a></li>
			</ul>
		</li>
		
	    
	    <li><a href="http://mondotunes.org" target="_blank">Mondotunes</a></li>
	  
	    
	    <li><a href="http://last.fm/user/sammcj2000" target="_blank">Last.fm</a></li>
	  
	    
	    <li><a href="http://ixa.io" target="_blank">Infoxchange Tech Blog</a></li>
	  
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  
  
    <div class="entry-image">
      <img src="/images/melbourne.jpg" alt="Recent Posts">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>smcleod.net</h1>
      <h2>Recent Posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-02-15T20:50:33+11:00"><a href="/2015-02-15-building-a-high-performance-ssd-san--part-2/">February 15, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Sam McLeod">Sam McLeod</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/2015-02-15-building-a-high-performance-ssd-san--part-2/" rel="bookmark" title="Building a high performance SSD SAN - Part 2" itemprop="url">Building a high performance SSD SAN - Part 2</a></h1>
    
  </header>
  <div class="entry-content">
    <h2 id="resources">Resources</h2>

<ul>
  <li><a href="http://www.supermicro.com.tw/manuals/superserver/1U/MNL-1724.pdf">Server Manual</a></li>
  <li><a href="ftp://www.supermicro.com.tw/CDR_Images/CDR-X10/">Firmware</a></li>
  <li><a href="http://www.supermicro.com.tw/support/bios/firmware.aspx">BIOS</a></li>
</ul>

<ol>
  <li>Go through the usual steps of setting up the BIOS / IPMI and updating firmware.</li>
  <li>Install OS on SATA DOMs</li>
  <li>Configure 2x SATA DOMs in an mdadm RAID1 mirror using the Debian installer.</li>
  <li>I’m making the root file system 10GB and /var 6GB both EXT4 on LVM.</li>
  <li>Install the minimal Debian package set.</li>
  <li>Edit /etc/fstab and add noatime,discard to any mounted EXT4 filesystems</li>
  <li>Add Debian backports mirror to apt sources and run apt-get update; apt-get upgrade</li>
  <li>Install the latest kernel from backports (apt-get install -t wheezy-backports linux-image-amd64, reboot and remove the old 3.2 kernel</li>
</ol>

<p>I’ll be installing the following packages on top of the base system:</p>

<p><code>vim-full htop iotop hdparm mtr fio open-iscsi ssh openntpd drbd-utils heartbeat cron-apt rsync tcpdump tmux</code></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-02-15T00:00:00+11:00"><a href="/xenserver-ssds--vm-storage-performance/">February 15, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Sam McLeod">Sam McLeod</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~5 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/xenserver-ssds--vm-storage-performance/" rel="bookmark" title="XenServer, SSDs & VM Storage Performance" itemprop="url">XenServer, SSDs & VM Storage Performance</a></h1>
    
  </header>
  <div class="entry-content">
    <h2 id="intro">Intro</h2>

<p>At Infoxchange we use XenServer as our Virtualisation of choice.
There are many reasons for this including:</p>

<ul>
  <li>Open Source.</li>
  <li>Offers greater performance than VMware.</li>
  <li>Affordability (it’s free unless you purchase support).</li>
  <li>Proven backend Xen is very reliable.</li>
  <li>Reliable cross-host migrations of VMs.</li>
  <li>The XenCentre client, (although having to run in a Windows VM) is quick and simple to use.</li>
  <li>Upgrades and patches have proven to be more reliable than VMware.</li>
  <li>OpenStack while interesting, is not yet reliable or streamlined enough for our small team of 4 to implement and manage.</li>
  <li>XenServer Storage &amp; Filesystems</li>
</ul>

<!--more-->

<p>Unfortunately the downside to XenServer is that it’s underlying OS is quite old.
The latest version (6.5) about to be released is still based on Centos 5 and still lacks any form of EXT4 and BTRFS support, direct disk access is not available… without some tweaking and has no real support for TRIM unless you have direct disk access and are happy with EXT3.</p>

<p>Despite this, XenServer still manages to easily outperform VMware in both storage and CPU performance while costing… nothing unless you purchase support!</p>

<h2 id="direct-disk-access">Direct disk access</h2>

<p>It turns out, that you can add custom udev rules to pass through devices directly to VMs.</p>

<p>For example, assuming <code>/dev/sdb</code> is the disk you wish to make available to guests, you can edit <code>/etc/udev/rules.d/50-udev.rules</code> like so:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">ACTION</span><span class="o">==</span><span class="s2">&quot;add&quot;</span>, <span class="nv">KERNEL</span><span class="o">==</span><span class="s2">&quot;sdb&quot;</span>, SYMLINK+<span class="o">=</span><span class="s2">&quot;xapi/block/%k&quot;</span>, RUN+<span class="o">=</span><span class="s2">&quot;/bin/sh -c &#39;/opt/xensource/libexec/local-device-change %k 2&gt;&amp;1 &gt;/dev/null&amp;&#39;&quot;</span>
<span class="nv">ACTION</span><span class="o">==</span><span class="s2">&quot;remove&quot;</span>, <span class="nv">KERNEL</span><span class="o">==</span><span class="s2">&quot;sdb&quot;</span>, RUN+<span class="o">=</span><span class="s2">&quot;/bin/sh -c &#39;/opt/xensource/libexec/local-device-change %k 2&gt;&amp;1 &gt;/dev/null&amp;&#39;&quot;</span></code></pre></div>

<p>There are some limitations with this:</p>

<p>You’re passing through the whole disk and can only grant that entire disk to a single VM.
The udev configuration is volitile and is likely to be lost upon installing XenServer updates.
You cannot (to my knowledge) boot from directly attached storage devices.
What I’ve actually done is partitioned the SSD RAID array into 4 paritions on the XenServer host, this allows me to carve up the SSD RAID array and present adiquit storage to several VMs on the host.
i.e.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">ACTION</span><span class="o">==</span><span class="s2">&quot;add&quot;</span>, <span class="nv">KERNEL</span><span class="o">==</span><span class="s2">&quot;sdb1&quot;</span>, SYMLINK+<span class="o">=</span><span class="s2">&quot;xapi/block/%k&quot;</span>, RUN+<span class="o">=</span><span class="s2">&quot;/bin/sh -c &#39;/opt/xensource/libexec/local-device-change %k 2&gt;&amp;1 &gt;/dev/null&amp;&#39;&quot;</span>
<span class="nv">ACTION</span><span class="o">==</span><span class="s2">&quot;remove&quot;</span>, <span class="nv">KERNEL</span><span class="o">==</span><span class="s2">&quot;sdb1&quot;</span>, RUN+<span class="o">=</span><span class="s2">&quot;/bin/sh -c &#39;/opt/xensource/libexec/local-device-change %k 2&gt;&amp;1 &gt;/dev/null&amp;&#39;&quot;</span>
<span class="nv">ACTION</span><span class="o">==</span><span class="s2">&quot;add&quot;</span>, <span class="nv">KERNEL</span><span class="o">==</span><span class="s2">&quot;sdb2&quot;</span>, SYMLINK+<span class="o">=</span><span class="s2">&quot;xapi/block/%k&quot;</span>, RUN+<span class="o">=</span><span class="s2">&quot;/bin/sh -c &#39;/opt/xensource/libexec/local-device-change %k 2&gt;&amp;1 &gt;/dev/null&amp;&#39;&quot;</span>
<span class="nv">ACTION</span><span class="o">==</span><span class="s2">&quot;remove&quot;</span>, <span class="nv">KERNEL</span><span class="o">==</span><span class="s2">&quot;sdb2&quot;</span>, RUN+<span class="o">=</span><span class="s2">&quot;/bin/sh -c &#39;/opt/xensource/libexec/local-device-change %k 2&gt;&amp;1 &gt;/dev/null&amp;&#39;&quot;</span></code></pre></div>

<p>etc…</p>

<p>I’ve then:</p>

<ul>
  <li>Mapped each partition to a VM running on that host.</li>
  <li>Partitioned it within the host as needed.</li>
  <li>Mounted /var/lib/docker as a BTRFS volume with compression enabled (compress=lzo) – This is used by CI as we build our our applications in Docker.</li>
  <li>Mounted /home as an EXT4 – This is used by Gitlab-CI to checkout the pre-reqs for each build.</li>
</ul>

<h2 id="performance-benchmarks">Performance (benchmarks)</h2>

<h3 id="observations">Observations</h3>

<p>The HP P410i RAID card on the old G6 DL360’s I am using for this is far underpowered and is unable to perform anywhere near the SSD’s rated speeds.
Direct disk access is 2-6 times ‘faster’ than XenServer’s standard LVM or EXT3 storage.
There is less than a 10% difference in performance between the SSD RAID array on the VM with the presented disk than directly on the XenServer host.
XenServer’s raw disk performance was exactly the same as Debian 7.
Remember to ensure your RAID (and disk cache if not in prod) is enabled!
Points of Note:</p>

<p>This is an old server, we’re not talking your latest and greatest hardware here, we’re talking giving new life to an old-ish dog so that it may retain its usefulness while remaining cost effective.
With TRIM being unavailable when using RAID, it is expected that the write performance will decrease somewhat overtime as the disks fill up as the disks will have to perform a ‘READ, ERASE, WRITE’ rather than a simple WRITE, To aid the lack of TRIM, I have left more than 25% of the disks unused as we simply don’t need 1TB of SSD storage on each of the hosts.
We have some 1GB cache cards arriving in the following weeks which we will upgrade to from the 512MB cards presently installed – I expect this to significantly further improve performance.</p>

<h2 id="hardware">Hardware:</h2>

<ul>
  <li>Refurbished HP DL360 G6 (2010 model).</li>
  <li>2x 8 Core Xeon x5550 w/ hyperthreading, 8 cores presented to domU.</li>
  <li>96GB DDR3 in dom0, 4GB in domU.</li>
  <li>HP P410i w/ 512MB cache.</li>
  <li>2x 10K 146GB spindles for dom0.</li>
  <li>‘HP Genuine’!</li>
  <li>Constant 5-6 Watts each + cooling.</li>
  <li>2x SanDisk Extreme Pro SSD 480GB in RAID 0</li>
  <li>SATA III, Read up to 550MB/s, Write up to 515MB/s, Random Read up to 100K IOPS, Random Write up to 90K IOPS.</li>
  <li>0.15-0.2 Watts peak each.</li>
</ul>

<p>EXT4 Bonnie++ Results w/ 2x SSD in RAID1, XenServer 6.5 RC1, LVM:</p>

<p><img src="images/xenserver/dl360-lvm.jpg" alt="" /></p>

<p>EXT4 Bonnie++ Results w/ 2x SSD in RAID1, XenServer 6.5 RC1, Direct Disk:</p>

<p><img src="images/xenserver/dl360-dd.jpg" alt="" /></p>

<p>EXT4 dd Results w/ 2x SSD in RAID0, XenServer 6.5 RC1, LVM:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">samm@serv-dhcp-13:/var/tmp# dd <span class="k">if</span><span class="o">=</span>/dev/zero <span class="nv">of</span><span class="o">=</span>tempfile <span class="nv">bs</span><span class="o">=</span>1M <span class="nv">count</span><span class="o">=</span><span class="m">8000</span> <span class="nv">conv</span><span class="o">=</span>fdatasync,notrunc
 8000+0 records in
 8000+0 records out
 <span class="m">8388608000</span> bytes <span class="o">(</span>8.4 GB<span class="o">)</span> copied, 118.11 s, 71.0 MB/s</code></pre></div>

<p>EXT4 dd Results w/ 2x SSD in RAID0, XenServer 6.5 RC1, Direct Disk:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">samm@serv-dhcp-13:/var/tmp# dd <span class="k">if</span><span class="o">=</span>/dev/zero <span class="nv">of</span><span class="o">=</span>tempfile <span class="nv">bs</span><span class="o">=</span>1M <span class="nv">count</span><span class="o">=</span><span class="m">8000</span> <span class="nv">conv</span><span class="o">=</span>fdatasync,notrunc
 8000+0 records in
 8000+0 records out
 <span class="m">8388608000</span> bytes <span class="o">(</span>8.4 GB<span class="o">)</span> copied, 19.21 s, <span class="m">437</span> MB/s</code></pre></div>

<p>Future Benchmarking Steps</p>

<ul>
  <li>Observe performance over time since TRIM is not available.</li>
  <li>Upgrade RAID cards to 1GB cache (we have some spares).</li>
  <li>Try with our new Gen8 BL460c blade servers, with locally attached P420i RAID controllers and 2GB cache.</li>
  <li>Try linux software RAID with direct disks.</li>
</ul>

<h2 id="xenservers-future">XenServer’s Future</h2>

<p>Filesystems</p>

<p>I would hope that both EXT4 (and BTRFS) support is added in the near future.
With this I would expect auto-detecting TRIM support similar to VMware and Hyper-V.
Direct Disk Access</p>

<p>Direct disk access clearly offers massive performance gains, I would like to see XenServer add this as an easy to use option when configuring storage.
Non-volitile advanced configuration</p>

<p>Related to direct disk access, XenServer needs some form of non-volitle advanced configuration options.
VMware, raw Xen and KVM let you tweak many options without risk of loss after installing minor updates.</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-02-15T00:00:00+11:00"><a href="/the-best-of--2014-edition/">February 15, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Sam McLeod">Sam McLeod</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/the-best-of--2014-edition/" rel="bookmark" title="The Best Of - 2014 Edition" itemprop="url">The Best Of - 2014 Edition</a></h1>
    
  </header>
  <div class="entry-content">
    <p>At the end of every year I note down a summary of the best applications, hardware &amp; websites I’ve enjoyed &amp; depended on throughout the year (and often for some time before).</p>

<h2 id="software--general-use">Software / General Use:</h2>

<ul>
  <li>Fastmail - https://www.fastmail.com</li>
  <li>Evernote - https://evernote.com</li>
  <li>Reeder - http://reederapp.com</li>
  <li>Keynote - https://www.apple.com/au/mac/keynote</li>
  <li>Lastpass - https://lastpass.com</li>
  <li>Plex - https://plex.tv</li>
  <li>Calibre - http://calibre-ebook.com
<!--more--></li>
</ul>

<h2 id="software--geek-use">Software / Geek Use:</h2>

<ul>
  <li>Sublime Text - http://www.sublimetext.com/3</li>
  <li>Homebrew - http://brew.sh</li>
  <li>DropSync - http://mudflatsoftware.com</li>
  <li>Beets - http://beets.radbox.org</li>
  <li>Textual - http://www.codeux.com/textual</li>
  <li>XLD - http://tmkk.undo.jp/xld/index_e.html</li>
  <li>Code Academy - http://www.codecademy.com</li>
  <li>Exercism.io - http://exercism.io</li>
  <li>Sickbeard + Headphones + Couchpotato + Sabnzbd - http://www.totalhtpc.com/ultimate-usenet-guide.html</li>
</ul>

<h2 id="software--mobile">Software / Mobile:</h2>

<ul>
  <li>Tweetbot - http://tapbots.com/software/tweetbot</li>
  <li>Pushover - http://pushover.net</li>
  <li>Lastpass - https://lastpass.com</li>
  <li>Keynote - https://www.apple.com/au/ios/keynote</li>
  <li>Reeder - http://reederapp.com/ios</li>
  <li>Evernote- https://evernote.com</li>
  <li>Plex - https://plex.tv</li>
  <li>Backblaze - https://www.backblaze.com</li>
  <li>WTF Podcast - http://www.wtfpod.com/app</li>
  <li>MiniHack - https://itunes.apple.com/au/app/minihack-for-hacker-news/id631108846?mt=8</li>
  <li>Uber - https://itunes.apple.com/au/app/uber/id368677368?mt=8</li>
  <li>Goodreads - https://itunes.apple.com/au/app/goodreads-book-recommendations/id355833469?mt=8</li>
  <li>Notify4M - https://itunes.apple.com/au/app/notify4m/id499161979?mt=8</li>
  <li>Bandcamp - https://itunes.apple.com/au/app/bandcamp/id706408639?mt=8</li>
  <li>Hype Machine - https://itunes.apple.com/au/app/hype-machine/id414315986?mt=8</li>
  <li>Nuzzel (Only got onto this today) - https://itunes.apple.com/au/app/nuzzel-news-from-your-friends/id692285770?mt=8</li>
  <li>Alien Blue - http://www.reddit.com/r/alienblue</li>
</ul>

<h2 id="software--sysadmin-or-devops-specific">Software / SysAdmin or DevOps Specific:</h2>

<ul>
  <li>Gitlab - http://gitlab.org</li>
  <li>Gitlab-CI - https://about.gitlab.com/gitlab-ci</li>
  <li>Dash - http://kapeli.com/dash</li>
  <li>PostgreSQL (Makes my list every year &amp; just keeps getting better) - http://www.postgresql.org</li>
  <li>PGBadger - http://dalibo.github.io/pgbadger</li>
  <li>Docker - https://www.docker.com</li>
  <li>Consul - https://consul.io</li>
  <li>Puppet (I couldn’t do my job as well without it) - http://puppetlabs.com</li>
  <li>iTerm - http://iterm2.com</li>
  <li>Nginx - http://nginx.org</li>
  <li>Htop - http://hisham.hm/htop</li>
  <li>Bonnie++ - http://linux.die.net/man/8/bonnie++</li>
  <li>Openfire - https://www.igniterealtime.org/projects/openfire</li>
  <li>Hiera-Eyaml - https://github.com/TomPoulton/hiera-eyaml</li>
  <li>Rubinius - http://rubini.us</li>
  <li>Puma - http://puma.io</li>
  <li>XenServer - http://xenserver.org</li>
  <li>ElasticSearch - www.elasticsearch.org</li>
  <li>Logstash - http://logstash.net</li>
  <li>FPM - https://github.com/jordansissel/fpm</li>
  <li>PFsense - https://www.pfsense.org</li>
  <li>Debian Jessie (Not quite released but the next great version of the best linux Distro IMO) - https://www.debian.org/releases/jessie</li>
  <li>Check_MK Multisite - https://mathias-kettner.de/checkmk_multisite.html</li>
  <li>PWSafe - https://itunes.apple.com/au/app/pwsafe-password-safe-compatible/id520993579?mt=12</li>
  <li>Supervisord - http://supervisord.org</li>
</ul>

<h2 id="websites">Websites:</h2>

<ul>
  <li>Last.fm - http://www.last.fm/user/sammcj2000</li>
  <li>Feedly - https://feedly.com</li>
  <li>HackerNews - https://news.ycombinator.com/news</li>
  <li>Lucidchart - http://lucidchart.com/</li>
  <li>MondoTunes (Might be a little biased here!) - http://mondotunes.org</li>
</ul>

<h2 id="hardware">Hardware:</h2>

<ul>
  <li>Das Ultimate 4- http://www.daskeyboard.com</li>
  <li>Logitech Performance MX - http://www.logitech.com/en-au/product/performance-mouse-mx</li>
  <li>15’’ Macbook Pro Retina - http://www.apple.com/au/macbook-pro</li>
  <li>iPhone 6+ (because its bigger than bigger, or something) - https://www.apple.com/iphone-6</li>
  <li>CuBox - http://www.solid-run.com/product/cubox-i4pro</li>
  <li>Parani SD1000 Bluetooth Serial Adapter - http://www.senaindustrial.com/products/industrial_bluetooth/sd1000.php</li>
  <li>SanDisk Extreme Pro 480GB SSD - http://www.newegg.com/Product/Product.aspx?Item=N82E16820171999</li>
</ul>

<h2 id="other--non-tech">Other / Non-tech:</h2>

<ul>
  <li>All Day Socks - http://alldaysocks.com</li>
  <li>Sennheiser Amperior On-Ear Headphones - http://www.head-fi.org/products/sennheiser-amperior-on-ear-headphones</li>
  <li>O2 + ODAC - http://www.jdslabs.com/products/48/o2-odac-combo</li>
  <li>Benchmark DAC1 HDR - http://benchmarkmedia.com/products/benchmark-dac1-hdr-digital-to-analog-converter</li>
  <li>Bellroy Wallets - http://bellroy.com</li>
  <li>Ink Shoes - http://www.inkshoes.it</li>
  <li>Kindle Paperwhite - http://www.amazon.com.au/gp/feature.html?docId=3077740006</li>
  <li>Nerf Jolt - http://nerf.wikia.com/wiki/Jolt_EX-1</li>
</ul>

<h2 id="books">Books:</h2>

<ul>
  <li>The Phoenix Project (Reread this year for the 3rd time) - http://itrevolution.com/books/phoenix-project-devops-book</li>
  <li>Surely You’re Joking Mr Feynman! - https://www.goodreads.com/book/show/5544.Surely_You_re_Joking_Mr_Feynman_</li>
  <li>The Dark Tower Series - https://www.goodreads.com/book/show/43615.The_Gunslinger</li>
  <li>Snow Crash - https://www.goodreads.com/book/show/830.Snow_Crash</li>
</ul>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-02-15T00:00:00+11:00"><a href="/talk-24-months/">February 15, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Sam McLeod">Sam McLeod</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/talk-24-months/" rel="bookmark" title="Talk - 24 Months" itemprop="url">Talk - 24 Months</a></h1>
    
  </header>
  <div class="entry-content">
    <p>The way we work at Infoxchange has changed greatly.</p>

<p>A retrospective journey into transforming Infoxchange’s technology and culture over the past 24 months - presented a Melbourne DevOps – December 2014</p>

<p><a href="https://ixa.io/wp-content/uploads/2014/11/24%20Months.pdf"><img src="images/misc/24months.jpg" alt="Click to Start Slides" /></a></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-02-15T00:00:00+11:00"><a href="/search--a-journey-of-delivery-on-a-budget/">February 15, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Sam McLeod">Sam McLeod</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/search--a-journey-of-delivery-on-a-budget/" rel="bookmark" title="Search – A Journey of Delivery on a Budget" itemprop="url">Search – A Journey of Delivery on a Budget</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Presented a Melbourne Search – July 2014 – ‘Search – A Journey of Delivery on a Budget’.</p>

<p><a href="https://ixa.io/slides/search/index.html"><img src="images/misc/search.jpg" alt="Click to Start Slides" /></a></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-02-15T00:00:00+11:00"><a href="/limited-pagination-in-jekyll-with-liquid/">February 15, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Sam McLeod">Sam McLeod</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/limited-pagination-in-jekyll-with-liquid/" rel="bookmark" title="Limited Pagination in Jekyll with Liquid" itemprop="url">Limited Pagination in Jekyll with Liquid</a></h1>
    
  </header>
  <div class="entry-content">
    <p>I have another blog mondotunes.org which is a brain dump of whatever music I’m listening to and enjoying - I’ve recently (over night) switched from Wordpress to Jekyll.
Jekyll’s default pagination is to show a list of all pages on your blog, which is pretty intrusive if you have a lot of pages:</p>

<p><img src="images/misc/pagenationbad.png" alt="" /></p>

<p>So we need to set a range to limit on:</p>

<p><img src="images/misc/pagenationdiff.png" alt="" /></p>

<p>Much better:</p>

<p><img src="images/misc/pagenationgood.png" alt="" /></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-02-15T00:00:00+11:00"><a href="/directattach-ssd-storage--performance--comparisons/">February 15, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Sam McLeod">Sam McLeod</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/directattach-ssd-storage--performance--comparisons/" rel="bookmark" title="Direct-Attach SSD Storage – Performance & Comparisons" itemprop="url">Direct-Attach SSD Storage – Performance & Comparisons</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Further to my earlier post on XenServer storage performance with regards to directly attaching storage from the host, I have been analysing the performance of various SSD storage options.
I have attached a HP DS2220sb storage blade to an existing server blade and compared performance with 4 and 6 SSD RAID-10 to our existing iSCSI SANs.</p>

<p>While the P420i RAID controller in the DS2220sb is clearly saturated and unable to provide throughput much over 1,100MB/s – the IOP/s available to PostgreSQL are still a very considerably performance improvement over our P4530 SAN – in fact, 6 SSD’s result in a 39.9x performance increase!</p>

<p>Click the image below for the results:</p>

<p><a href="https://ixa.io/wp-content/uploads/2015/01/SSDvsSAN.pdf"><img src="images/san/bladedirectattach.png" alt="Click to Start Slides" /></a></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-02-15T00:00:00+11:00"><a href="/continuous-integration-for-the-linux-kernel--built-within-docker/">February 15, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Sam McLeod">Sam McLeod</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/continuous-integration-for-the-linux-kernel--built-within-docker/" rel="bookmark" title="Continuous Integration for the Linux Kernel - Built within Docker" itemprop="url">Continuous Integration for the Linux Kernel - Built within Docker</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Builds a Debian package of the latest stable linux kernel.</p>

<p>Runs in an isolated and disposble docker container.
Tested with Gitlab-CI but should work on any CI system.
No root access is required for the build.</p>

<p>After a successfully building the kernel package, the kernel will be copied to /mnt/storage on the host. Once the kernel package is on the host, you can install it on any Debian Wheezy AMD64 machine or upload it to your local apt repo for deployment.</p>

<p><a href="https://github.com/sammcj/kernel-ci">Code - https://github.com/sammcj/kernel-ci</a></p>

<p><img src="images/ci/kernelci.png" alt="Gitlab-Kernel-CI" /></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-02-15T00:00:00+11:00"><a href="/building-a-high-performance-ssd-san/">February 15, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Sam McLeod">Sam McLeod</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~8 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/building-a-high-performance-ssd-san/" rel="bookmark" title="Building a high performance SSD SAN - Part 1" itemprop="url">Building a high performance SSD SAN - Part 1</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Over the coming month I will be architecting, building and testing a modular, high performance SSD-only storage solution.
I’ll be documenting my progress / findings along the way and open sourcing all the information as a public guide.</p>

<p>With recent price drops and durability improvements in solid state storage now is better time than any to ditch those old magnets.
Modular server manufacturers such as SuperMicro have spent large on R&amp;D thanks to the ever growing requirements from cloud vendors that utilise their hardware.</p>

<h2 id="the-state-of-enterprise-storage">The State Of Enterprise Storage</h2>

<p>Companies often settle for off-the-shelf large name storage products from companies based on several, often misguided assumptions:</p>

<ul>
  <li>That enterprise in the product name = reliability</li>
  <li>That the blame from product / system failure can be outsourced</li>
  <li>That vendors provide specialist engineers to support such complicated (and expensive) products</li>
  <li>That that time and cost of building a modular storage solution tailored to their needs would be time consuming to design and manage</li>
</ul>

<p>At the end of the day we don’t trust vendors to design our servers - why would we trust them to design our storage?</p>

<p>A great quote on Wikipedia under ‘enterprise storage’:</p>

<p><em>“You might think that the hardware inside a <a href="http://en.m.wikipedia.org/wiki/Storage_area_network" title="Storage area network">SAN</a> is vastly superior to what can be found in your average server, but that is not the case. EMC (the market leader) and others have disclosed more than once that “the goal has always to been to use as much standard, commercial, off-the-shelf hardware as we can”. So your SAN array is probably nothing more than a typical Xeon server built by Quanta with a shiny bezel. A decent professional 1 <a href="http://en.m.wikipedia.org/wiki/Terabyte" title="Terabyte">TB</a> drive costs a few hundred dollars. Place that same drive inside a SAN appliance and suddenly the price per terabyte is multiplied by at least three, sometimes even 10! When it comes to pricing and <a href="http://en.m.wikipedia.org/wiki/Vendor_lock-in" title="Vendor lock-in">vendor lock-in</a> you can say that storage systems are still stuck in the “mainframe era” despite the use of cheap off-the-shelf hardware.”</em></p>

<p>It’s the same old story, if you’ve got lots of money and you don’t care about how you spend it or translating those savings onto your customers - sure <em>buy the ticket, take the ride</em> - get a unit that comes with a flash logo, a 500 page brochure, licensing requirements and a greasy sales pitch.</p>

<!--more-->

<h2 id="our-needs">Our Needs</h2>

<p>Storage performance always seems to be our bottleneck at Infoxchange, we run several high-performance high-concurrency applications with large databases and complex reporting.</p>

<p>We’re grown (very) fast and with that spending too much on off-the-shelf storage solutions, we have a requirement to self-host most of our products securely within our own control, on our hardware and need to be flexible to meet current and emerging security requirements.</p>

<p>I have been working on various proof-of-concepts which have lead to our decision to proceed with our own modular storage system tailored to our requirements.</p>

<h2 id="requirements">Requirements</h2>

<ul>
  <li>Reliability above all else
    <ul>
      <li>SSD units must be durable</li>
      <li>Network and iSCSI failover must be on-par with commercial products (if not better)</li>
    </ul>
  </li>
  <li>Multiple levels of provable redundancy
    <ul>
      <li>RAID</li>
      <li>Cross hardware-replication</li>
      <li>Easy IP and iSCSI failover using standard tools</li>
    </ul>
  </li>
  <li>1RU rack hight per unit</li>
  <li>100% SSD only - no spindles will be hurt in the making of this journey!</li>
  <li>Each unit to provide up to 450,000 IOP/s read performance on tier 1 storage</li>
  <li>Provide up to 2.5GB/s read performance and 1.5GB/s write performance on tier 1 storage</li>
  <li>Each unit to provide up to 400,000 IOP/s read performance on tier 2 storage</li>
  <li>Provide up to 1.2GB/s read performance and 1.2GB/s write performance on tier 2 storage</li>
  <li>20Gbit of redundant network connectivity per unit</li>
  <li>Two tiers of SSD storage performance (PCIe &amp; SATA)</li>
  <li>Easily monitorable with standard tools</li>
  <li>Use no proprietary RAID hardware</li>
  <li>Come with 3 years of hardware warranty cover</li>
  <li>Outperform all proprietary storage solutions costing twice the price or more</li>
  <li>Deployable and manageable by any sysadmin and require no specialised storage administrators</li>
  <li>Easily updatable for the latest security patches, features etc…</li>
  <li>Highly customisable and easily upgradable to larger / faster storage in the future</li>
  <li>Require significantly less energy and cooling over traditional storage units</li>
  <li>Offer at-rest encryption if required</li>
  <li><em><strong>Cost less than $9.5K USD per node</strong></em></li>
</ul>

<h2 id="software">Software</h2>

<table>
  <tbody>
    <tr>
      <td>Operating System</td>
      <td>Debian</td>
      <td>Debian is our OS of choice, it has newer packages than RedHat variants and is incredibly stable</td>
    </tr>
    <tr>
      <td>RAID</td>
      <td>MDADM</td>
      <td>For SSDs hardware RAID cards can often be their undoing - they simply can’t keep up and quickly become the bottleneck in the system. MDADM is mature and very flexible</td>
    </tr>
    <tr>
      <td>Node-to-Node Replication</td>
      <td>DRBD</td>
      <td> </td>
    </tr>
    <tr>
      <td>NIC Bonding</td>
      <td>LACP</td>
      <td> </td>
    </tr>
    <tr>
      <td>IP Failover</td>
      <td>Pacemaker</td>
      <td>We’ll probably also use a standard VM somewhere on our storage network for quorum</td>
    </tr>
    <tr>
      <td>Monitoring</td>
      <td>Nagios</td>
      <td> </td>
    </tr>
    <tr>
      <td>Storage Presentation</td>
      <td>Open-iSCSI</td>
      <td> </td>
    </tr>
    <tr>
      <td>Kernel</td>
      <td>Latest Stable (Currently 3.18.7)</td>
      <td>Debian Backports currently has Kernel 3.16, however we do daily CI builds of the latest kernel stable source for certain servers and this may be a good use case for them due the SCSI bus bypass for NVMe introduced in 3.18+</td>
    </tr>
  </tbody>
</table>

<p>We’re going to start with a two node cluster, we want to keep rack usage to a minimum so I’m going to go with a high density 1RU build.</p>

<p>The servers themselves don’t need to be particularly powerful which will help us keep the costs down. Easily the most expensive components are the 1.2TB PCIe SSDs - but the performance and durability of these units can’t be overlooked, we’re going to have a second performance tier constructed of high end SATA SSDs in RAID10. Of course if you wanted to reduce price further the PCIe SSDs could be left out or purchased at a later date.</p>

<h2 id="hardware">Hardware</h2>

<table>
  <tbody>
    <tr>
      <td><strong>Base Server</strong></td>
      <td>SuperMicro SuperServer 1028R-WTNRT</td>
      <td>2x 10GbE, NVMe Support, Dual PSU, Dual SATA DOM Support, 3x PCIe, 10x SAS/SATA HDD Bays</td>
    </tr>
    <tr>
      <td><strong>CPU</strong></td>
      <td>2x Intel Xeon E5-2609 v3</td>
      <td>We shouldn’t need a very high clock speed for our SAN, but it’s worth getting the newer v3 processor range for the sake of future proofing.</td>
    </tr>
    <tr>
      <td><strong>RAM</strong></td>
      <td>32GB DDR4 2133Mhz</td>
      <td>Again, we don’t need that much RAM, however it will be used for disk caching but 32GB should be more than enough and can be easily upgraded at a later date.</td>
    </tr>
    <tr>
      <td><strong>PCIe SSD</strong></td>
      <td>2x 1.2TB Intel SSD DC P3600 Series (With NVMe)</td>
      <td>This is where the real money goes - the Intel DC P3600 and P3700 series really are top of the range, the critical thing to note is that they support NVMe which will greatly increase performance, they’re backed by a 5 year warranty, these will be configured in RAID-1 for redundancy.</td>
    </tr>
    <tr>
      <td><strong>SATA SSD</strong></td>
      <td>8x SanDisk Extreme Pro SSD 480GB</td>
      <td>The SanDisk Extreme Pro line is arguably the most reliable and highest performing SATA SSD on the market - backed by a 10 year warranty, these will be configured in RAID-10 for redundancy and performance.</td>
    </tr>
    <tr>
      <td><strong>OS SSD</strong></td>
      <td>2x 16GB MLC DOM</td>
      <td>We don’t need much space for the OS, just enough to keep vital logs and package updates, these will be configured in RAID-1 for redundancy.</td>
    </tr>
  </tbody>
</table>

<p><img src="images/san/sm.jpg" alt="SuperMicro SuperServer 1028R-WTNRT" />
<img src="images/san/mobo.jpg" alt="SuperMicro SuperServer 1028R-WTNRT - mobo" />
<img src="images/san/intel.jpg" alt="1.2TB Intel SSD DC P3600 Series" />
<img src="images/san/dom.jpg" alt="SuperMicro DOM" />
<img src="images/san/ssd.jpg" alt="SanDisk Extreme Pro SSD 480GB" /></p>

<h2 id="ahci-vs-nvme">AHCI vs NVMe</h2>

<p>NVMe is a relatively new technology which I’m very interested in making use of for these storage units.</p>

<p>From <a href="http://en.wikipedia.org/wiki/NVM_Express">Wikipedia</a>:</p>

<p><em>“NVM Express has been designed from the ground up, capitalizing on the low latency and parallelism of PCI Express SSDs, and mirroring the parallelism of contemporary CPUs, platforms and applications. By allowing parallelism levels offered by SSDs to be fully utilized by host’s hardware and software, NVM Express brings various performance improvements.”</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">-</th>
      <th style="text-align: left">AHCI</th>
      <th style="text-align: left">NVMe</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Maximum queue depth</td>
      <td style="text-align: left">1 command queue; 32 commands per queue</td>
      <td style="text-align: left">65536 queues; 65536 commands per queue</td>
    </tr>
    <tr>
      <td style="text-align: left">Uncacheable register accesses (2000 cycles each)</td>
      <td style="text-align: left">6 per non-queued command; 9 per queued command</td>
      <td style="text-align: left">2 per command</td>
    </tr>
    <tr>
      <td style="text-align: left">MSI-X and interrupt steering</td>
      <td style="text-align: left">single interrupt; no steering</td>
      <td style="text-align: left">2048 MSI-X interrupts</td>
    </tr>
    <tr>
      <td style="text-align: left">Parallelism and multiple threads</td>
      <td style="text-align: left">requires synchronization lock to issue a command</td>
      <td style="text-align: left">no locking</td>
    </tr>
    <tr>
      <td style="text-align: left">Efficiency for 4 KB commands</td>
      <td style="text-align: left">command parameters require two serialized host DRAM fetches</td>
      <td style="text-align: left">gets command parameters in one 64 Bytes fetch</td>
    </tr>
  </tbody>
</table>

<h2 id="nvme-and-the-linux-kernel">NVMe and the Linux Kernel</h2>

<p><em>Intel published an NVM Express driver for Linux, It was merged into the Linux Kernel mainline on 19 March 2012, with the release of version 3.3 of the Linux kernel.</em></p>

<p><em>A scalable block layer for high-performance SSD storage, developed primarily by_ <a href="http://en.wikipedia.org/wiki/Fusion-io">_Fusion-io</a>_ _engineers, was merged into the Linux kernel mainline in kernel version 3.13, released on 19 January 2014. This leverages the performance offered by SSDs and NVM Express, by allowing much higher I/O submission rates. With this new design of the Linux kernel block layer, internal queues are split into two levels (per-CPU and hardware-submission queues), thus removing bottlenecks and allowing much higher levels of I/O parallelisation.</em></p>

<p>Note the following: <em>As of version 3.18 of the Linux kernel, released on 7 December 2014,</em> [<em>VirtIO]<a href="http://en.wikipedia.org/wiki/VirtIO">6</a></em> <em>block driver and the</em> [<em>SCSI]<a href="http://en.wikipedia.org/wiki/SCSI">7</a>__layer (which is used by Serial ATA drivers) have been modified to actually use this new interface; other drivers will be ported in the following releases.</em></p>

<p>Debian - our operating system of choice currently has kernel 3.16 available (using the official backports mirrors), however we do generate CI builds of the latest stable kernel for specific platforms - if you’re interested on how we’re doing that I have some information <a href="http://smcleod.net/continuous-integration-for-the-linux-kernel-built-within-docker">here</a>.</p>

<p>That’s where I’m upto for now, the hardware will hopefully arrive in two weeks and I’ll begin the setup and testing.</p>

<h3 id="coming-soon">Coming soon</h3>

<ul>
  <li>Build experience / guide</li>
  <li>Monitoring</li>
  <li>Benchmarks</li>
  <li>Failover configuration and testing</li>
  <li>Software configurations (Including a Puppet module)</li>
  <li>Ongoing experiences and application</li>
</ul>

<p>Stay tuned!</p>

<p>[<em>6/2/2015 - Sam McLeod]</em></p>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->


<div class="pagination">
  
    Previous
  
  <ul class="inline-list">
    <li>
      
        <span class="current-page">1</span>
      
    </li>
    <li>..</li>
    
    <li>..</li>
    <li>
      
        <span class="current-page">1</span>
      
    </li>
  </ul>
  
    Next
  
</div><!-- /.pagination -->

</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2015 Sam McLeod. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/" rel="notfollow">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59178670-1', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>


          

</body>
</html>